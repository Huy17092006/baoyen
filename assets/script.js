const _0x3ac41b=_0x47fb;!function(e,a){const t=_0x47fb,n=_0x1020();for(;;)try{if(319679===parseInt(t(466))/1+parseInt(t(502))/2+parseInt(t(586))/3*(parseInt(t(423))/4)+parseInt(t(377))/5+parseInt(t(577))/6*(parseInt(t(376))/7)+-parseInt(t(529))/8*(-parseInt(t(559))/9)+-parseInt(t(506))/10)break;n.push(n.shift())}catch(e){n.push(n.shift())}}();import*as _0x5baa1c from"three";import{OrbitControls}from"three/addons/controls/OrbitControls.js";function _0x1020(){const e=["DOMContentLoaded","isGroup","resize","scale","trailLength","rgba(220, 180, 255, 0.5)","traverse","SRGBColorSpace","Số lượng ảnh: ","./img/2.jpg","PointsMaterial","target","progress","renderOrder","strokeText","life","textAlign","Chạm Vào Tinh Cầu","stroke","documentElement","splice","isTextRing","webkitRequestFullscreen","heartImages","body","rotation","rollPhase","fillStyle","pitchAmplitude","addEventListener","   ","cos","\n        varying vec3 vNormal;\n        uniform vec3 glowColor;\n        void main() {\n            float intensity = pow(0.7 - dot(vNormal, vec3(0.0, 0.0, 1.0)), 2.0);\n            gl_FragColor = vec4(glowColor, 1.0) * intensity;\n        }\n    ","#fff","position","bold 50px Arial, sans-serif","WebGLRenderer","atan2","11501lToxve","1128430BAdtkl","font","#f8bbd0","innerText","getContext","CubicBezierCurve3","#ff135aff","\n            varying vec3 vNormal;\n            void main() {\n                vNormal = normalize(normalMatrix * normal);\n                gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n            }\n        ","LinearFilter","getY","now","speed","setFromCamera","getWorldPosition","clientX","parent","subVectors","BufferAttribute","style","rollSpeed","\n            varying vec3 vNormal;\n            uniform float time;\n            void main() {\n                float intensity = pow(0.7 - dot(vNormal, vec3(0.0, 0.0, 1.0)), 2.0);\n                gl_FragColor = vec4(1.0, 1.0, 1.0, intensity * (0.8 + sin(time * 5.0) * 0.2));\n            }\n        ","setDrawRange","addColorStop","zoomSpeed","angleOffset","intersectObjects","blur(2px)","bezierCurveTo","setFromPoints","maxLife","lineTo","huy17092006.github.io","Vector2","addScaledVector","white","getWorldDirection","latin","alphabetic","Color","push","textBaseline","ringTexts","materialFar","BackSide","lerp","Vector3","123796ZwmQYR","length","src","gesturestart","material","rgba(0,0,0,0)","geometryNear","vertexShader","createElement","CanvasTexture","enabled","autoRotateSpeed","shadowColor","sin","Anonymous","uniforms","strokeStyle","randomnessPower","left","clip","Group","#f06292",", 80%, 50%, 0.6)","onload","enableDamping","enablePan","magFilter","render","canvas","Shape","PerspectiveCamera","#ffffff","arms","shadowBlur","bold ","getPoint","restore","moveTo","colorSpace","initialAngle","beginPath","--vh","starfield","42413jCRXJS","#f48fb1","tiltPhase","outsideColor","visible","#3fd8c7","click","setPixelRatio","SphereGeometry","distanceTo","getX","classList","outputColorSpace","spin","innerHeight","set","appendChild",", Điểm mỗi ảnh: ","name","msRequestFullscreen","randomness","aspect","TextureLoader","mozRequestFullScreen","head","geometryFar","copy","slice","children","requestFullscreen","count","pow","materialNear","\n        uniform float time;\n        uniform sampler2D baseTexture;\n        varying vec2 vUv;\n        void main() {\n            vec2 uv = vUv;\n            float angle = length(uv - vec2(0.5)) * 3.0;\n            float twist = sin(angle * 3.0 + time) * 0.1;\n            uv.x += twist * sin(time * 0.5);\n            uv.y += twist * cos(time * 0.5);\n            vec4 texColor = texture2D(baseTexture, uv);\n            float noise = sin(uv.x * 10.0 + time) * sin(uv.y * 10.0 + time) * 0.1;\n            texColor.rgb += noise * vec3(0.8, 0.4, 0.2);\n            gl_FragColor = texColor;\n        }\n    ","#ff5858ff","#b2ff59","817316OVTsed","save","spacingScale","height","10203400rKwSii","time","AdditiveBlending","portrait-mode","width","FogExp2","needsUpdate","Mesh","random","fontScale","\n        uniform float uSize;\n        uniform float uTime;\n        uniform float uRippleTime;\n        uniform float uRippleSpeed;\n        uniform float uRippleWidth;\n\n        varying vec3 vColor;\n\n        void main() {\n            // Lấy màu gốc từ geometry (giống hệt vertexColors: true)\n            vColor = color;\n\n            vec4 modelPosition = modelMatrix * vec4(position, 1.0);\n\n            // ---- LOGIC HIỆU ỨNG GỢN SÓNG ----\n            if (uRippleTime > 0.0) {\n                float rippleRadius = (uTime - uRippleTime) * uRippleSpeed;\n                float particleDist = length(modelPosition.xyz);\n\n                float strength = 1.0 - smoothstep(rippleRadius - uRippleWidth, rippleRadius + uRippleWidth, particleDist);\n                strength *= smoothstep(rippleRadius + uRippleWidth, rippleRadius - uRippleWidth, particleDist);\n\n                if (strength > 0.0) {\n                    vColor += vec3(strength * 2.0); // Làm màu sáng hơn khi sóng đi qua\n                }\n            }\n\n            vec4 viewPosition = viewMatrix * modelPosition;\n            gl_Position = projectionMatrix * viewPosition;\n            // Dòng này làm cho các hạt nhỏ hơn khi ở xa, mô phỏng hành vi của PointsMaterial\n            gl_PointSize = uSize / -viewPosition.z;\n        }\n    ","CylinderGeometry","getElementById","crossOrigin","filter","touchmove","hostname","./img/1.jpg","px Arial, sans-serif","geometry","autoRotate","setAttribute","ShapeGeometry","232AEmHJe","hint-icon-group","NormalBlending","initialPosition","insideColor","#a259f7","minFilter","color","createRadialGradient","ringRadius","container","update","value","getZ","min","MeshBasicMaterial","anisotropy","Points","getMaxAnisotropy","lookAt","forEach","fillRect","BufferGeometry","#ffb3de","setSize","innerHTML","location","clone","DoubleSide","radius","109719ZhHpRV","object","ringMesh","other","main-glow","cjk","log","rollAmplitude","curve","getAttribute","remove","getPixelRatio","getBoundingClientRect","Image","lineWidth","floor","repeat","CHÚC MỪNG SINH NHẬT","792qFHVpA","ceil","innerWidth","type","RingGeometry","fog","translate","drawImage","isPoints","9ozLOPD","data","closePath","dataLove","add","textRings","ShaderMaterial","none","max","measureText","transparent","clientY","ontouchstart","domElement","points","opacity","Scene","userData","arcTo"];return(_0x1020=function(){return e})()}import{FontLoader}from"three/examples/jsm/loaders/FontLoader.js";import{TextGeometry}from"three/examples/jsm/geometries/TextGeometry.js";const scene=new(_0x5baa1c[_0x3ac41b(602)]);scene[_0x3ac41b(582)]=new(_0x5baa1c[_0x3ac41b(511)])(0,.0015);const camera=new(_0x5baa1c[_0x3ac41b(453)])(75,window[_0x3ac41b(579)]/window[_0x3ac41b(480)],.1,1e5);camera[_0x3ac41b(372)][_0x3ac41b(481)](0,20,30);const renderer=new(_0x5baa1c[_0x3ac41b(374)])({antialias:!0});renderer[_0x3ac41b(553)](window.innerWidth,window[_0x3ac41b(480)]),renderer[_0x3ac41b(473)](Math[_0x3ac41b(543)](window.devicePixelRatio,2)),renderer[_0x3ac41b(478)]=_0x5baa1c.SRGBColorSpace,document.getElementById(_0x3ac41b(539))[_0x3ac41b(482)](renderer[_0x3ac41b(599)]);const controls=new OrbitControls(camera,renderer[_0x3ac41b(599)]);function createGlowMaterial(e,a=128,t=.55){const n=_0x3ac41b,o=document[n(431)]("canvas");o[n(510)]=o[n(505)]=a;const r=o.getContext("2d"),i=r[n(537)](a/2,a/2,0,a/2,a/2,a/2);i.addColorStop(0,e),i.addColorStop(1,n(428)),r[n(632)]=i,r[n(550)](0,0,a,a);const c=new(_0x5baa1c[n(432)])(o),s=new _0x5baa1c.SpriteMaterial({map:c,transparent:!0,opacity:t,depthWrite:!1,blending:_0x5baa1c[n(508)]});return new _0x5baa1c.Sprite(s)}controls[_0x3ac41b(447)]=!0,controls[_0x3ac41b(526)]=!0,controls[_0x3ac41b(434)]=.1,controls[_0x3ac41b(433)]=!1,controls[_0x3ac41b(616)].set(0,0,0),controls[_0x3ac41b(448)]=!1,controls.minDistance=15,controls.maxDistance=300,controls[_0x3ac41b(400)]=.3,controls.rotateSpeed=.3,controls[_0x3ac41b(540)]();const centralGlow=createGlowMaterial("rgba(255,255,255,0.8)",156,.25);centralGlow[_0x3ac41b(608)][_0x3ac41b(481)](8,8,1),scene[_0x3ac41b(590)](centralGlow);for(let e=0;e<15;e++){const e=createGlowMaterial("hsla("+360*Math.random()+_0x3ac41b(445),256);e[_0x3ac41b(608)][_0x3ac41b(481)](100,100,1),e.position[_0x3ac41b(481)](175*(Math[_0x3ac41b(514)]()-.5),175*(Math.random()-.5),175*(Math[_0x3ac41b(514)]()-.5)),scene[_0x3ac41b(590)](e)}const galaxyParameters={count:1e5,arms:6,radius:100,spin:.5,randomness:.2,randomnessPower:20,insideColor:new(_0x5baa1c[_0x3ac41b(415)])(14040790),outsideColor:new(_0x5baa1c[_0x3ac41b(415)])(4765880)},heartImages=[...window[_0x3ac41b(589)]&&window[_0x3ac41b(589)].data.heartImages?window[_0x3ac41b(589)][_0x3ac41b(587)][_0x3ac41b(628)]:[],_0x3ac41b(523),_0x3ac41b(614),"./img/3.jpg","./img/4.jpg","./img/5.jpg"],textureLoader=new(_0x5baa1c[_0x3ac41b(488)]),numGroups=heartImages[_0x3ac41b(424)],maxDensity=15e3,minDensity=4e3,maxGroupsForScale=6;let pointsPerGroup;if(numGroups<=1)pointsPerGroup=15e3;else if(numGroups>=6)pointsPerGroup=4e3;else{const e=(numGroups-1)/5;pointsPerGroup=Math[_0x3ac41b(574)](15e3*(1-e)+4e3*e)}pointsPerGroup*numGroups>galaxyParameters[_0x3ac41b(496)]&&(pointsPerGroup=Math[_0x3ac41b(574)](galaxyParameters[_0x3ac41b(496)]/numGroups)),console[_0x3ac41b(565)](_0x3ac41b(613)+numGroups+_0x3ac41b(483)+pointsPerGroup);const positions=new Float32Array(3*galaxyParameters[_0x3ac41b(496)]),colors=new Float32Array(3*galaxyParameters[_0x3ac41b(496)]);let pointIdx=0;for(let e=0;e<galaxyParameters[_0x3ac41b(496)];e++){const a=Math[_0x3ac41b(497)](Math.random(),galaxyParameters.randomnessPower)*galaxyParameters[_0x3ac41b(558)],t=e%galaxyParameters[_0x3ac41b(455)]/galaxyParameters.arms*Math.PI*2,n=a*galaxyParameters[_0x3ac41b(479)],o=(Math[_0x3ac41b(514)]()-.5)*galaxyParameters.randomness*a,r=(Math[_0x3ac41b(514)]()-.5)*galaxyParameters.randomness*a*.5,i=(Math[_0x3ac41b(514)]()-.5)*galaxyParameters.randomness*a,c=t+n;if(a<30&&Math.random()<.7)continue;const s=3*pointIdx;positions[s]=Math[_0x3ac41b(636)](c)*a+o,positions[s+1]=r,positions[s+2]=Math[_0x3ac41b(436)](c)*a+i;const l=new(_0x5baa1c[_0x3ac41b(415)])(16738047);l[_0x3ac41b(421)](new(_0x5baa1c[_0x3ac41b(415)])(6750207),a/galaxyParameters[_0x3ac41b(558)]),l.multiplyScalar(.7+.3*Math[_0x3ac41b(514)]()),colors[s]=l.r,colors[s+1]=l.g,colors[s+2]=l.b,pointIdx++}const galaxyGeometry=new(_0x5baa1c[_0x3ac41b(551)]);galaxyGeometry[_0x3ac41b(527)](_0x3ac41b(372),new(_0x5baa1c[_0x3ac41b(394)])(positions[_0x3ac41b(493)](0,3*pointIdx),3)),galaxyGeometry.setAttribute(_0x3ac41b(536),new(_0x5baa1c[_0x3ac41b(394)])(colors[_0x3ac41b(493)](0,3*pointIdx),3));const galaxyMaterial=new(_0x5baa1c[_0x3ac41b(592)])({uniforms:{uTime:{value:0},uSize:{value:50*renderer[_0x3ac41b(570)]()},uRippleTime:{value:-1},uRippleSpeed:{value:40},uRippleWidth:{value:20}},vertexShader:_0x3ac41b(516),fragmentShader:"\n        varying vec3 vColor;\n        void main() {\n            // Làm cho các hạt có hình tròn thay vì hình vuông\n            float dist = length(gl_PointCoord - vec2(0.5));\n            if (dist > 0.5) discard;\n\n            gl_FragColor = vec4(vColor, 1.0);\n        }\n    ",blending:_0x5baa1c[_0x3ac41b(508)],depthWrite:!1,transparent:!0,vertexColors:!0}),galaxy=new(_0x5baa1c[_0x3ac41b(546)])(galaxyGeometry,galaxyMaterial);function createNeonTexture(e,a){const t=_0x3ac41b,n=window.devicePixelRatio||1,o=document[t(431)](t(451));o.width=o[t(505)]=a*n,o[t(395)][t(510)]=o[t(395)][t(505)]=a+"px";const r=o[t(381)]("2d");r[t(608)](n,n);const i=e[t(510)]/e[t(505)];let c,s,l,x;i>1?(c=a,s=a/i,l=0,x=(a-s)/2):(s=a,c=a*i,l=(a-c)/2,x=0),r.clearRect(0,0,a,a);const b=.1*a;r[t(503)](),r[t(463)](),r[t(460)](l+b,x),r[t(407)](l+c-b,x),r[t(604)](l+c,x,l+c,x+b,b),r.lineTo(l+c,x+s-b),r[t(604)](l+c,x+s,l+c-b,x+s,b),r[t(407)](l+b,x+s),r[t(604)](l,x+s,l,x+s-b,b),r[t(407)](l,x+b),r[t(604)](l,x,l+b,x,b),r[t(588)](),r[t(442)](),r[t(584)](e,l,x,c,s),r[t(459)]();const d=new(_0x5baa1c[t(432)])(o);return d[t(535)]=_0x5baa1c[t(385)],d[t(449)]=_0x5baa1c[t(385)],d[t(545)]=renderer.capabilities[t(547)](),d[t(461)]=_0x5baa1c[t(612)],d}scene[_0x3ac41b(590)](galaxy);for(let e=0;e<numGroups;e++){const a=new Float32Array(3*pointsPerGroup),t=new Float32Array(3*pointsPerGroup),n=new Float32Array(3*pointsPerGroup);let o=0;for(let r=0;r<pointsPerGroup;r++){const i=3*o,c=e*pointsPerGroup+r,s=Math[_0x3ac41b(497)](Math.random(),galaxyParameters[_0x3ac41b(440)])*galaxyParameters.radius;if(s<30)continue;const l=c%galaxyParameters[_0x3ac41b(455)]/galaxyParameters[_0x3ac41b(455)]*Math.PI*2,x=s*galaxyParameters[_0x3ac41b(479)],b=(Math[_0x3ac41b(514)]()-.5)*galaxyParameters[_0x3ac41b(486)]*s,d=(Math[_0x3ac41b(514)]()-.5)*galaxyParameters[_0x3ac41b(486)]*s*.5,m=(Math[_0x3ac41b(514)]()-.5)*galaxyParameters[_0x3ac41b(486)]*s,_=l+x;a[i]=Math[_0x3ac41b(636)](_)*s+b,a[i+1]=d,a[i+2]=Math[_0x3ac41b(436)](_)*s+m;const u=new(_0x5baa1c[_0x3ac41b(415)])(16777215);t[i]=u.r,t[i+1]=u.g,t[i+2]=u.b;const p=galaxyParameters[_0x3ac41b(533)][_0x3ac41b(556)]();p.lerp(galaxyParameters[_0x3ac41b(469)],s/galaxyParameters[_0x3ac41b(558)]),p.multiplyScalar(.7+.3*Math[_0x3ac41b(514)]()),n[i]=p.r,n[i+1]=p.g,n[i+2]=p.b,o++}if(0===o)continue;const r=new _0x5baa1c.BufferGeometry;r[_0x3ac41b(527)]("position",new(_0x5baa1c[_0x3ac41b(394)])(a[_0x3ac41b(493)](0,3*o),3)),r[_0x3ac41b(527)]("color",new _0x5baa1c.BufferAttribute(t.slice(0,3*o),3));const i=new _0x5baa1c.BufferGeometry;i[_0x3ac41b(527)]("position",new _0x5baa1c.BufferAttribute(a[_0x3ac41b(493)](0,3*o),3)),i.setAttribute(_0x3ac41b(536),new(_0x5baa1c[_0x3ac41b(394)])(n[_0x3ac41b(493)](0,3*o),3));const c=i.getAttribute(_0x3ac41b(372));let s=0,l=0,x=0;for(let e=0;e<c[_0x3ac41b(496)];e++)s+=c.getX(e),l+=c[_0x3ac41b(386)](e),x+=c[_0x3ac41b(542)](e);s/=c[_0x3ac41b(496)],l/=c.count,x/=c[_0x3ac41b(496)],r.translate(-s,-l,-x),i[_0x3ac41b(583)](-s,-l,-x);const b=new(window[_0x3ac41b(572)]);b[_0x3ac41b(519)]=_0x3ac41b(437),b[_0x3ac41b(425)]=heartImages[e],b[_0x3ac41b(446)]=()=>{const e=_0x3ac41b,a=createNeonTexture(b,256),t=new(_0x5baa1c[e(615)])({size:1.8,map:a,transparent:!1,alphaTest:.2,depthWrite:!0,depthTest:!0,blending:_0x5baa1c[e(531)],vertexColors:!0}),n=new _0x5baa1c.PointsMaterial({size:1.8,map:a,transparent:!0,alphaTest:.2,depthWrite:!1,blending:_0x5baa1c[e(508)],vertexColors:!0}),o=new(_0x5baa1c[e(546)])(i,n);o[e(372)][e(481)](s,l,x),o.userData[e(498)]=t,o.userData[e(429)]=r,o[e(603)][e(419)]=n,o[e(603)][e(491)]=i,scene[e(590)](o)}}const ambientLight=new _0x5baa1c.AmbientLight(16777215,.2);scene[_0x3ac41b(590)](ambientLight);const starCount=2e4,starGeometry=new _0x5baa1c.BufferGeometry,starPositions=new Float32Array(6e4);for(let e=0;e<2e4;e++)starPositions[3*e]=900*(Math[_0x3ac41b(514)]()-.5),starPositions[3*e+1]=900*(Math.random()-.5),starPositions[3*e+2]=900*(Math[_0x3ac41b(514)]()-.5);starGeometry.setAttribute(_0x3ac41b(372),new _0x5baa1c.BufferAttribute(starPositions,3));const starMaterial=new(_0x5baa1c[_0x3ac41b(615)])({color:16777215,size:.7,transparent:!0,opacity:.7,depthWrite:!1}),starField=new _0x5baa1c.Points(starGeometry,starMaterial);starField[_0x3ac41b(484)]=_0x3ac41b(465),starField[_0x3ac41b(618)]=999,scene[_0x3ac41b(590)](starField);let shootingStars=[];function createShootingStar(){const e=_0x3ac41b,a=new(_0x5baa1c[e(474)])(2,32,32),t=new _0x5baa1c.MeshBasicMaterial({color:16777215,transparent:!0,opacity:0,blending:_0x5baa1c[e(508)]}),n=new(_0x5baa1c[e(513)])(a,t),o=new(_0x5baa1c[e(474)])(3,32,32),r=new(_0x5baa1c[e(592)])({uniforms:{time:{value:0}},vertexShader:e(384),fragmentShader:e(397),transparent:!0,blending:_0x5baa1c.AdditiveBlending,side:_0x5baa1c[e(420)]}),i=new(_0x5baa1c[e(513)])(o,r);n[e(590)](i);const c=new(_0x5baa1c[e(474)])(1.05*planetRadius,48,48),s=new(_0x5baa1c[e(592)])({uniforms:{glowColor:{value:new(_0x5baa1c[e(415)])(14726143)}},vertexShader:"\n        varying vec3 vNormal;\n        void main() {\n            vNormal = normalize(normalMatrix * normal);\n            gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n        }\n    ",fragmentShader:e(637),side:_0x5baa1c[e(420)],blending:_0x5baa1c[e(508)],transparent:!0}),l=new _0x5baa1c.Mesh(c,s);planet[e(590)](l);const x=createRandomCurve(),b=[];for(let a=0;a<100;a++){const t=a/99;b[e(416)](x.getPoint(t))}const d=(new(_0x5baa1c[e(551)]))[e(405)](b),m=new _0x5baa1c.LineBasicMaterial({color:10087167,transparent:!0,opacity:.7,linewidth:2}),_=new _0x5baa1c.Line(d,m),u=new(_0x5baa1c[e(443)]);u[e(590)](n),u[e(590)](_),u[e(603)]={curve:x,progress:0,speed:.001+.001*Math[e(514)](),life:0,maxLife:300,head:n,trail:_,trailLength:100,trailPoints:b},scene.add(u),shootingStars[e(416)](u)}function createRandomCurve(){const e=_0x3ac41b,a=new(_0x5baa1c[e(422)])(100*Math[e(514)]()-200,200*Math.random()-100,200*Math[e(514)]()-100),t=new(_0x5baa1c[e(422)])(600+200*Math[e(514)](),a.y+(200*Math[e(514)]()-100),a.z+(200*Math[e(514)]()-100)),n=new(_0x5baa1c[e(422)])(a.x+200+100*Math[e(514)](),a.y+(100*Math[e(514)]()-50),a.z+(100*Math[e(514)]()-50)),o=new _0x5baa1c.Vector3(t.x-200+100*Math[e(514)](),t.y+(100*Math[e(514)]()-50),t.z+(100*Math[e(514)]()-50));return[][e(416)](a,n,o,t),new(_0x5baa1c[e(382)])(a,n,o,t)}function createPlanetTexture(e=512){const a=_0x3ac41b,t=document[a(431)](a(451));t[a(510)]=t[a(505)]=e;const n=t[a(381)]("2d"),o=n.createRadialGradient(e/2,e/2,e/8,e/2,e/2,e/2);o[a(399)](0,"#f8bbd0"),o[a(399)](.12,"#f48fb1"),o[a(399)](.22,a(444)),o.addColorStop(.35,a(454)),o[a(399)](.5,"#e1aaff"),o[a(399)](.62,a(534)),o[a(399)](.75,a(501)),o[a(399)](1,a(471)),n.fillStyle=o,n[a(550)](0,0,e,e);const r=[a(379),a(379),a(467),"#f48fb1","#f06292",a(444),a(454),"#e1aaff",a(534),"#b2ff59"];for(let t=0;t<40;t++){const t=Math.random()*e,o=Math[a(514)]()*e,i=30+120*Math.random(),c=r[Math[a(574)](Math[a(514)]()*r.length)],s=n.createRadialGradient(t,o,0,t,o,i);s[a(399)](0,c+"cc"),s[a(399)](1,c+"00"),n[a(632)]=s,n[a(550)](0,0,e,e)}for(let t=0;t<8;t++)n.beginPath(),n.moveTo(Math[a(514)]()*e,Math[a(514)]()*e),n[a(404)](Math[a(514)]()*e,Math.random()*e,Math[a(514)]()*e,Math[a(514)]()*e,Math[a(514)]()*e,Math[a(514)]()*e),n[a(439)]="rgba(180, 120, 200, "+(.12+.18*Math[a(514)]())+")",n[a(573)]=8+18*Math[a(514)](),n[a(623)]();return void 0!==n[a(520)]&&(n.filter=a(403),n[a(584)](t,0,0),n.filter=a(593)),new(_0x5baa1c[a(432)])(t)}const stormShader={uniforms:{time:{value:0},baseTexture:{value:null}},vertexShader:"\n        varying vec2 vUv;\n        void main() {\n            vUv = uv;\n            gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n        }\n    ",fragmentShader:_0x3ac41b(499)},planetRadius=10,planetGeometry=new(_0x5baa1c[_0x3ac41b(474)])(planetRadius,48,48),planetTexture=createPlanetTexture(),planetMaterial=new(_0x5baa1c[_0x3ac41b(592)])({uniforms:{time:{value:0},baseTexture:{value:planetTexture}},vertexShader:stormShader[_0x3ac41b(430)],fragmentShader:stormShader.fragmentShader}),planet=new(_0x5baa1c[_0x3ac41b(513)])(planetGeometry,planetMaterial);planet.position[_0x3ac41b(481)](0,0,0),scene[_0x3ac41b(590)](planet);const ringTexts=[_0x3ac41b(576),"NGUYỄN HUYỀN BẢO YẾN",...window[_0x3ac41b(589)]&&window[_0x3ac41b(589)][_0x3ac41b(587)][_0x3ac41b(418)]?window[_0x3ac41b(589)][_0x3ac41b(587)].ringTexts:[]];function createTextRings(){const e=_0x3ac41b,a=ringTexts[e(424)],t=1.1*planetRadius;window[e(591)]=[];for(let o=0;o<a;o++){const r=ringTexts[o%ringTexts.length]+e(635),i=t+5*o;function n(a){const t=e,n=a.charCodeAt(0);return n>=19968&&n<=40959||n>=12352&&n<=12447||n>=12448&&n<=12543||n>=44032&&n<=55215?"cjk":t(n>=0&&n<=127?413:562)}let c={cjk:0,latin:0,other:0};for(let C of r)c[n(C)]++;const s=r[e(424)],l=c[e(564)]/s;let x={fontScale:.75,spacingScale:1.1};0===o?(x.fontScale=.55,x[e(504)]=.9):1===o&&(x[e(515)]=.65,x[e(504)]=1),l>0&&(x.fontScale*=.9,x[e(504)]*=1.1);const b=200,d=Math[e(594)](120,.9*b),m=document[e(431)](e(451)).getContext("2d");m[e(378)]=e(457)+d+"px Arial, sans-serif";let _=ringTexts[o%ringTexts[e(424)]]+e(635),u=m[e(595)](_)[e(510)],p=2*Math.PI*i*180,h=Math[e(578)](p/u),g="";for(let G=0;G<h;G++)g+=_;let f=u*h;(f<1||!g)&&(g=_,f=u);const w=document[e(431)]("canvas");w[e(510)]=Math.ceil(Math[e(594)](1,f)),w.height=b;const v=w[e(381)]("2d");v.clearRect(0,0,w[e(510)],b),v[e(378)]="bold "+d+e(524),v[e(632)]=e(411),v[e(621)]="left",v.textBaseline=e(414),v[e(435)]=e(500),v.shadowBlur=24,v[e(573)]=6,v[e(439)]=e(371),v.strokeText(g,0,.8*b),v[e(435)]=e(383),v[e(456)]=16,v.fillText(g,0,.8*b);const y=new(_0x5baa1c[e(432)])(w);y.wrapS=_0x5baa1c.RepeatWrapping,y[e(575)].x=f/p,y[e(512)]=!0;const M=new(_0x5baa1c[e(517)])(i,i,1,128,1,!0),P=new(_0x5baa1c[e(544)])({map:y,transparent:!0,side:_0x5baa1c.DoubleSide,alphaTest:.01}),S=new(_0x5baa1c[e(513)])(M,P);S[e(372)][e(481)](0,0,0),S[e(630)].y=Math.PI/2;const T=new(_0x5baa1c[e(443)]);T.add(S),T.userData={ringRadius:i,angleOffset:.15*Math.PI*.5,speed:.008,tiltSpeed:0,rollSpeed:0,pitchSpeed:0,tiltAmplitude:Math.PI/3,rollAmplitude:Math.PI/6,pitchAmplitude:Math.PI/8,tiltPhase:2*Math.PI,rollPhase:2*Math.PI,pitchPhase:2*Math.PI,isTextRing:!0};const I=o/a*(Math.PI/1);T[e(630)].x=I,scene[e(590)](T),window[e(591)][e(416)](T)}}function updateTextRingsRotation(){const e=_0x3ac41b;window[e(591)]&&camera&&window[e(591)][e(549)](((a,t)=>{const n=e;a[n(494)].forEach((e=>{const t=n;if(void 0!==e[t(603)][t(462)]){const n=e[t(603)][t(462)]+a[t(603)].angleOffset,o=Math[t(636)](n)*e[t(603)][t(538)],r=Math[t(436)](n)*e.userData[t(538)];e.position[t(481)](o,0,r);const i=new _0x5baa1c.Vector3;e[t(390)](i);const c=(new(_0x5baa1c[t(422)]))[t(393)](camera[t(372)],i).normalize(),s=Math[t(375)](c.x,c.z);e[t(630)].y=s}}))}))}function animatePlanetSystem(){const e=_0x3ac41b;if(window[e(591)]){const a=.001*Date[e(387)]();window[e(591)][e(549)](((t,n)=>{const o=e,r=t[o(603)];r[o(401)]+=r[o(388)];const i=Math[o(436)](a*r.tiltSpeed+r.tiltPhase)*r.tiltAmplitude,c=Math[o(636)](a*r[o(396)]+r[o(631)])*r[o(566)],s=Math.sin(a*r.pitchSpeed+r.pitchPhase)*r[o(633)];t[o(630)].x=n/window[o(591)][o(424)]*(Math.PI/1)+i,t[o(630)].z=c,t[o(630)].y=r[o(401)]+s;const l=.3*Math.sin(a*(.7*r.tiltSpeed)+r[o(468)]);t[o(372)].y=l;const x=(Math[o(436)](1.5*a+n)+1)/2,b=t[o(494)][0];b&&b.material&&(b.material[o(601)]=.7+.3*x)})),updateTextRingsRotation()}}createTextRings();let hintIcon,hintText,fadeOpacity=.1,fadeInProgress=!1;function createHintIcon(){const e=_0x3ac41b;hintIcon=new _0x5baa1c.Group,hintIcon.name=e(530),scene[e(590)](hintIcon);const a=new _0x5baa1c.Group,t=new(_0x5baa1c[e(452)]);t[e(460)](0,0),t[e(407)](.4*-.75,.7*-1.5),t.lineTo(-.1875,.7*-1.5),t[e(407)](-.375,-1.5),t[e(407)](.375,-1.5),t.lineTo(.1875,.7*-1.5),t[e(407)](.4*.75,.7*-1.5),t[e(588)]();const n=new(_0x5baa1c[e(528)])(t),o=new(_0x5baa1c[e(544)])({color:16777215,side:_0x5baa1c[e(557)]}),r=new(_0x5baa1c[e(513)])(n,o),i=new(_0x5baa1c[e(528)])(t),c=new _0x5baa1c.MeshBasicMaterial({color:16777215,side:_0x5baa1c[e(557)]}),s=new(_0x5baa1c[e(513)])(i,c);s[e(608)][e(481)](.8,.8,1),s[e(372)].z=.01,a[e(590)](r,s),a[e(372)].y=.75,a[e(630)].x=Math.PI/2;const l=new(_0x5baa1c[e(581)])(1.8,2,32),x=new _0x5baa1c.MeshBasicMaterial({color:16777215,side:_0x5baa1c[e(557)],transparent:!0,opacity:.6}),b=new(_0x5baa1c[e(513)])(l,x);b[e(630)].x=Math.PI/2,hintIcon[e(603)][e(561)]=b,hintIcon[e(590)](a),hintIcon[e(590)](b),hintIcon[e(372)][e(481)](1.5,1.5,15),hintIcon[e(608)][e(481)](.8,.8,.8),hintIcon[e(548)](planet[e(372)]),hintIcon.userData[e(532)]=hintIcon[e(372)][e(556)]()}function animateHintIcon(e){const a=_0x3ac41b;if(hintIcon)if(introStarted)hintIcon&&(hintIcon[a(470)]=!1),hintText&&(hintText[a(470)]=!1);else{hintIcon[a(470)]=!0;const t=2.5,n=1.5,o=Math.sin(e*t)*n,r=new _0x5baa1c.Vector3;hintIcon[a(412)](r),hintIcon[a(372)][a(492)](hintIcon[a(603)][a(532)])[a(410)](r,-o);const i=hintIcon[a(603)][a(561)],c=1+.1*Math[a(436)](e*t);i[a(608)][a(481)](c,c,1),i[a(427)][a(601)]=.5+.2*Math[a(436)](e*t),hintText&&(hintText[a(470)]=!0,hintText[a(427)][a(601)]=.7+.3*Math[a(436)](3*e),hintText[a(372)].y=15+.5*Math[a(436)](2*e),hintText[a(548)](camera[a(372)]))}}function animate(){const e=_0x3ac41b;requestAnimationFrame(animate);const a=.001*performance.now();animateHintIcon(a),controls[e(540)](),planet[e(427)][e(438)][e(507)][e(541)]=.5*a,fadeInProgress&&fadeOpacity<1&&(fadeOpacity+=.025,fadeOpacity>1&&(fadeOpacity=1)),introStarted?scene[e(611)]((a=>{const t=e;a.userData[t(626)]||a[t(392)]&&a[t(392)].userData&&a[t(392)][t(603)][t(626)]||a===planet||a===centralGlow||t(602)===a[t(580)]?a[t(427)]&&void 0!==a[t(427)][t(601)]&&(a[t(427)][t(601)]=1,a[t(427)].transparent=!1):a[t(427)]&&void 0!==a[t(427)][t(601)]&&(a[t(427)][t(596)]=!0,a.material[t(601)]=fadeOpacity),a[t(427)]&&a[t(427)][t(536)]&&a.material[t(536)][t(481)](16777215)})):(fadeOpacity=.1,scene[e(611)]((a=>{const t=e;t(465)!==a[t(484)]?a[t(603)][t(626)]||a[t(392)]&&a[t(392)][t(603)]&&a[t(392)].userData.isTextRing?(a[t(427)]&&void 0!==a[t(427)][t(601)]&&(a[t(427)][t(596)]=!1,a[t(427)].opacity=1),a[t(427)]&&a[t(427)][t(536)]&&a.material.color[t(481)](16777215)):a===planet||a===centralGlow||a===hintIcon||t(602)===a[t(580)]||a[t(392)][t(606)]||a[t(427)]&&void 0!==a[t(427)][t(601)]&&(a.material.transparent=!0,a[t(427)][t(601)]=.1):a[t(600)]&&void 0!==a[t(427)][t(601)]&&(a.material[t(596)]=!1,a[t(427)][t(601)]=1)})),planet[e(470)]=!0,centralGlow[e(470)]=!0);for(let t=shootingStars[e(424)]-1;t>=0;t--){const n=shootingStars[t];n.userData.life++;let o=1;if(n[e(603)].life<30?o=n.userData[e(620)]/30:n[e(603)].life>n.userData[e(406)]-30&&(o=(n[e(603)].maxLife-n.userData[e(620)])/30),n[e(603)].progress+=n[e(603)][e(388)],n[e(603)][e(617)]>1){scene.remove(n),shootingStars[e(625)](t,1);continue}const r=n.userData[e(567)][e(458)](n.userData[e(617)]);n.position[e(492)](r),n[e(603)][e(490)][e(427)][e(601)]=o,n[e(603)][e(490)][e(494)][0][e(427)][e(438)][e(507)].value=a;const i=n[e(603)].trail,c=n[e(603)].trailPoints;c[0][e(492)](r);for(let a=1;a<n[e(603)][e(609)];a++){const t=Math[e(594)](0,n[e(603)][e(617)]-.01*a);c[a][e(492)](n[e(603)][e(567)][e(458)](t))}i[e(525)][e(405)](c),i.material.opacity=.7*o}shootingStars[e(424)]<3&&Math[e(514)]()<.02&&createShootingStar(),scene[e(611)]((a=>{const t=e;if(a[t(585)]&&a.userData.materialNear&&a[t(603)][t(419)]){const e=a[t(525)].getAttribute("position");let n=!1;for(let o=0;o<e.count;o++){const r=e[t(476)](o)+a[t(372)].x,i=e[t(386)](o)+a[t(372)].y,c=e[t(542)](o)+a[t(372)].z;if(camera[t(372)][t(475)](new(_0x5baa1c[t(422)])(r,i,c))<10){n=!0;break}}n?a[t(427)]!==a.userData[t(498)]&&(a[t(427)]=a[t(603)][t(498)],a[t(525)]=a.userData[t(429)]):a[t(427)]!==a[t(603)][t(419)]&&(a[t(427)]=a.userData[t(419)],a.geometry=a[t(603)][t(491)])}})),planet.lookAt(camera[e(372)]),animatePlanetSystem(),starField&&starField[e(427)]&&void 0!==starField.material[e(601)]&&(starField[e(427)][e(601)]=1,starField.material[e(596)]=!1),renderer[e(450)](scene,camera)}function createHintText(){const e=_0x3ac41b,a=document[e(431)]("canvas");a[e(510)]=a.height=512;const t=a[e(381)]("2d"),n=e(622);t[e(378)]=e(373),t[e(621)]="center",t[e(417)]="middle",t[e(435)]=e(552),t.shadowBlur=5,t[e(573)]=2,t.strokeStyle="rgba(255, 200, 220, 0.8)",t[e(619)](n,256,256),t.shadowColor="#e0b3ff",t[e(456)]=5,t[e(573)]=2,t[e(439)]=e(610),t[e(619)](n,256,256),t[e(435)]=e(596),t[e(456)]=0,t.fillStyle=e(411),t.fillText(n,256,256);const o=new(_0x5baa1c[e(432)])(a);o[e(512)]=!0;const r=new(_0x5baa1c[e(544)])({map:o,transparent:!0,side:_0x5baa1c[e(557)]}),i=new _0x5baa1c.PlaneGeometry(16,8);hintText=new(_0x5baa1c[e(513)])(i,r),hintText[e(372)][e(481)](0,15,0),scene[e(590)](hintText)}function startCameraAnimation(){const e=_0x3ac41b,a={x:camera[e(372)].x,y:camera[e(372)].y,z:camera.position.z},t=a.x,n=a.z,o=a.x,r=.2;let i=0;controls.enabled=!1,function c(){const s=e;let l;if(i+=.00101,i<r){let e=i/r;l={x:a.x+(t-a.x)*e,y:a.y+(0-a.y)*e,z:a.z+(n-a.z)*e}}else if(i<.75){let e=(i-r)/.55;l={x:t+(o-t)*e,y:0+0*e,z:n+(160-n)*e}}else{if(!(i<1.15))return camera[s(372)].set(-40,100,100),camera[s(548)](0,0,0),controls[s(616)][s(481)](0,0,0),controls.update(),void(controls.enabled=!0);{let e=(i-r-.55)/.4,a=.5-.5*Math[s(636)](Math.PI*e);l={x:o+(-40-o)*a,y:0+100*a,z:160+-60*a}}}camera[s(372)].set(l.x,l.y,l.z),camera[s(548)](0,0,0),requestAnimationFrame(c)}()}createShootingStar(),createHintIcon(),createHintText(),window[_0x3ac41b(634)](_0x3ac41b(607),(()=>{const e=_0x3ac41b;camera[e(487)]=window[e(579)]/window.innerHeight,camera.updateProjectionMatrix(),renderer[e(553)](window[e(579)],window[e(480)]),controls[e(616)][e(481)](0,0,0),controls[e(540)]()}));const raycaster=new _0x5baa1c.Raycaster,mouse=new(_0x5baa1c[_0x3ac41b(409)]);let introStarted=!1;const originalStarCount=starGeometry[_0x3ac41b(568)](_0x3ac41b(372))[_0x3ac41b(496)];function requestFullScreen(){const e=_0x3ac41b,a=document.documentElement;a.requestFullscreen?a[e(495)]():a[e(489)]?a[e(489)]():a[e(627)]?a[e(627)]():a[e(485)]&&a[e(485)]()}function onCanvasClick(e){const a=_0x3ac41b;if(introStarted)return;const t=renderer[a(599)][a(571)]();if(mouse.x=(e[a(391)]-t[a(441)])/t[a(510)]*2-1,mouse.y=-(e[a(597)]-t.top)/t[a(505)]*2+1,raycaster[a(389)](mouse,camera),raycaster.intersectObject(planet)[a(424)]>0)requestFullScreen(),introStarted=!0,fadeInProgress=!0,document[a(629)][a(477)][a(590)]("intro-started"),startCameraAnimation(),starField&&starField[a(525)]&&starField.geometry[a(398)](0,originalStarCount);else if(introStarted){const e=raycaster[a(402)](heartPointClouds);if(e[a(424)]>0){const t=e[0][a(560)];controls[a(616)][a(492)](t[a(372)])}}}function setFullScreen(){const e=_0x3ac41b,a=.01*window.innerHeight;document[e(624)][e(395)].setProperty(e(464),a+"px");const t=document[e(518)](e(539));t&&(t[e(395)][e(505)]=window[e(480)]+"px")}starField&&starField[_0x3ac41b(525)]&&starField.geometry[_0x3ac41b(398)](0,Math.floor(.1*originalStarCount)),renderer[_0x3ac41b(599)][_0x3ac41b(634)](_0x3ac41b(472),onCanvasClick),animate(),planet[_0x3ac41b(484)]="main-planet",centralGlow.name=_0x3ac41b(563),window[_0x3ac41b(634)](_0x3ac41b(607),setFullScreen),window[_0x3ac41b(634)]("orientationchange",(()=>{setTimeout(setFullScreen,300)})),setFullScreen();const preventDefault=e=>e.preventDefault();document[_0x3ac41b(634)](_0x3ac41b(521),preventDefault,{passive:!1}),document[_0x3ac41b(634)](_0x3ac41b(426),preventDefault,{passive:!1});const container=document.getElementById(_0x3ac41b(539));function _0x47fb(e,a){const t=_0x1020();return(_0x47fb=function(e,a){return t[e-=371]})(e,a)}function checkOrientation(){const e=_0x3ac41b;window[e(480)]>window[e(579)]&&e(598)in window?document[e(629)][e(477)][e(590)](e(509)):document[e(629)][e(477)][e(569)]("portrait-mode")}container&&container.addEventListener(_0x3ac41b(521),preventDefault,{passive:!1});const offi=_0x3ac41b(408),current=window[_0x3ac41b(555)][_0x3ac41b(522)];current!==offi&&(document.body[_0x3ac41b(554)]="",warningText[_0x3ac41b(380)]=" ",warningDiv[_0x3ac41b(482)](warningText),document[_0x3ac41b(629)].appendChild(warningDiv)),window[_0x3ac41b(634)](_0x3ac41b(605),checkOrientation),window[_0x3ac41b(634)](_0x3ac41b(607),checkOrientation),window.addEventListener("orientationchange",(()=>{setTimeout(checkOrientation,200)}));
