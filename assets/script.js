const _0x2eccd1=_0x36e7;!function(e,t){const n=_0x36e7,a=_0x1ae4();for(;;)try{if(112463===-parseInt(n(305))/1+parseInt(n(427))/2+-parseInt(n(483))/3+parseInt(n(393))/4*(-parseInt(n(436))/5)+-parseInt(n(432))/6+-parseInt(n(434))/7*(parseInt(n(578))/8)+parseInt(n(392))/9*(parseInt(n(326))/10))break;a.push(a.shift())}catch(e){a.push(a.shift())}}();import*as _0x38f9d0 from"three";import{OrbitControls}from"three/addons/controls/OrbitControls.js";import{FontLoader}from"three/examples/jsm/loaders/FontLoader.js";import{TextGeometry}from"three/examples/jsm/geometries/TextGeometry.js";const scene=new(_0x38f9d0[_0x2eccd1(334)]);scene[_0x2eccd1(485)]=new _0x38f9d0.FogExp2(0,.0015);const camera=new(_0x38f9d0[_0x2eccd1(458)])(75,window[_0x2eccd1(324)]/window.innerHeight,.1,1e5);camera.position[_0x2eccd1(425)](0,20,30);const renderer=new(_0x38f9d0[_0x2eccd1(557)])({antialias:!0});function _0x1ae4(){const e=["arcTo","./img/4.jpg","huy17092006.github.io","\n        varying vec3 vColor;\n        void main() {\n            // Làm cho các hạt có hình tròn thay vì hình vuông\n            float dist = length(gl_PointCoord - vec2(0.5));\n            if (dist > 0.5) discard;\n\n            gl_FragColor = vec4(vColor, 1.0);\n        }\n    ","\n            varying vec3 vNormal;\n            uniform float time;\n            void main() {\n                float intensity = pow(0.7 - dot(vNormal, vec3(0.0, 0.0, 1.0)), 2.0);\n                gl_FragColor = vec4(1.0, 1.0, 1.0, intensity * (0.8 + sin(time * 5.0) * 0.2));\n            }\n        ","innerText","clientY","wrapS","cos","angleOffset","maxDistance","strokeStyle","slice","color","BufferAttribute","trailLength","main-glow","LinearFilter","dataLove","textAlign","normalize","SRGBColorSpace","middle","maxLife","clearRect","children","spacingScale","radius","lerp","arms","PointsMaterial","rgba(180, 120, 200, ","restore","lookAt","rgba(255, 200, 220, 0.8)","Color","clone","TextureLoader","textBaseline","Anonymous","object","log","latin","#b2ff59","randomness","getElementById","repeat","tiltPhase","geometry","random","WebGLRenderer","Points","opacity","initialAngle","trail","intersectObjects","distanceTo","traverse","Mesh","speed","initialPosition","head","./img/2.jpg","minFilter","drawImage","canvas","remove","setPixelRatio","multiplyScalar","Vector3","#3fd8c7","8fdPcSM","visible","AmbientLight","addColorStop","#f06292","scale","136602RtiBVj","getPoint","touchmove","beginPath","Sprite","center","main-planet","save","pitchSpeed","enableDamping","preventDefault","classList","addScaledVector","copy","MeshBasicMaterial","#e1aaff","Line","msRequestFullscreen","rollPhase","innerWidth","textRings","1220TagynW","./img/5.jpg","height","mozRequestFullScreen","\n        varying vec3 vNormal;\n        uniform vec3 glowColor;\n        void main() {\n            float intensity = pow(0.7 - dot(vNormal, vec3(0.0, 0.0, 1.0)), 2.0);\n            gl_FragColor = vec4(glowColor, 1.0) * intensity;\n        }\n    ","ontouchstart","domElement","intersectObject","Scene","createRadialGradient","fragmentShader","isPoints","life","pitchPhase","randomnessPower","SpriteMaterial","   ","#f48fb1","isTextRing","strokeText","getBoundingClientRect","curve","points","other","Shape","fillRect","push","setAttribute","getPixelRatio","zoomSpeed","pow","materialNear","PlaneGeometry","resize","SphereGeometry","onload","filter","bold 50px Arial, sans-serif","outputColorSpace","name","hsla(","userData","starfield","fontScale","addEventListener","style","position","\n            varying vec3 vNormal;\n            void main() {\n                vNormal = normalize(normalMatrix * normal);\n                gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n            }\n        ","BackSide","transparent","updateProjectionMatrix","rollAmplitude","#f8bbd0","lineTo","renderOrder","--vh","geometryNear","geometryFar","alphabetic","setFromPoints","trailPoints","top","anisotropy","rgba(255,255,255,0.8)","\n        uniform float uSize;\n        uniform float uTime;\n        uniform float uRippleTime;\n        uniform float uRippleSpeed;\n        uniform float uRippleWidth;\n\n        varying vec3 vColor;\n\n        void main() {\n            // Lấy màu gốc từ geometry (giống hệt vertexColors: true)\n            vColor = color;\n\n            vec4 modelPosition = modelMatrix * vec4(position, 1.0);\n\n            // ---- LOGIC HIỆU ỨNG GỢN SÓNG ----\n            if (uRippleTime > 0.0) {\n                float rippleRadius = (uTime - uRippleTime) * uRippleSpeed;\n                float particleDist = length(modelPosition.xyz);\n\n                float strength = 1.0 - smoothstep(rippleRadius - uRippleWidth, rippleRadius + uRippleWidth, particleDist);\n                strength *= smoothstep(rippleRadius + uRippleWidth, rippleRadius - uRippleWidth, particleDist);\n\n                if (strength > 0.0) {\n                    vColor += vec3(strength * 2.0); // Làm màu sáng hơn khi sóng đi qua\n                }\n            }\n\n            vec4 viewPosition = viewMatrix * modelPosition;\n            gl_Position = projectionMatrix * viewPosition;\n            // Dòng này làm cho các hạt nhỏ hơn khi ở xa, mô phỏng hành vi của PointsMaterial\n            gl_PointSize = uSize / -viewPosition.z;\n        }\n    ","RingGeometry","40491oUnWKx","236gKotWT","left","target","floor","materialFar","heartImages","max","setSize","shadowBlur","ShapeGeometry","\n        uniform float time;\n        uniform sampler2D baseTexture;\n        varying vec2 vUv;\n        void main() {\n            vec2 uv = vUv;\n            float angle = length(uv - vec2(0.5)) * 3.0;\n            float twist = sin(angle * 3.0 + time) * 0.1;\n            uv.x += twist * sin(time * 0.5);\n            uv.y += twist * cos(time * 0.5);\n            vec4 texColor = texture2D(baseTexture, uv);\n            float noise = sin(uv.x * 10.0 + time) * sin(uv.y * 10.0 + time) * 0.1;\n            texColor.rgb += noise * vec3(0.8, 0.4, 0.2);\n            gl_FragColor = texColor;\n        }\n    ","autoRotate","#fff",", 80%, 50%, 0.6)","font","magFilter","getContext","needsUpdate","setFromCamera","innerHeight","ShaderMaterial",", Điểm mỗi ảnh: ","Image","ringRadius","enabled","location","getX","rotation","bezierCurveTo","getWorldPosition","Vector2","ringTexts","set","cjk","105710oSNosD","length","white","aspect","capabilities","28854PIGYJD","devicePixelRatio","1101366jsbtKU","insideColor","7715mVavIF","hostname","stroke","\n        varying vec3 vNormal;\n        void main() {\n            vNormal = normalize(normalMatrix * normal);\n            gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n        }\n    ","uniforms","#a259f7","orientationchange","DOMContentLoaded","outsideColor","now","moveTo","count","progress","LineBasicMaterial","render","portrait-mode","type","material","rgba(0,0,0,0)","time","subVectors","getZ","PerspectiveCamera","minDistance","Group","measureText","CanvasTexture","click","./img/3.jpg","ceil","lineWidth","add","hint-icon-group","tiltSpeed","body","getY","shadowColor","fillStyle","src","spin","isGroup","parent","none","update","forEach","fillText","CHÚC MỪNG SINH NHẬT","298452LsHuen","intro-started","fog","sin","AdditiveBlending","createElement","requestFullscreen","crossOrigin","documentElement","NormalBlending","rollSpeed","min","DoubleSide","value","blur(2px)","webkitRequestFullscreen","bold ","data","px Arial, sans-serif","appendChild","./img/1.jpg","container","width","#ffffff"];return(_0x1ae4=function(){return e})()}renderer[_0x2eccd1(400)](window[_0x2eccd1(324)],window.innerHeight),renderer[_0x2eccd1(574)](Math[_0x2eccd1(494)](window[_0x2eccd1(433)],2)),renderer[_0x2eccd1(364)]=_0x38f9d0[_0x2eccd1(528)],document[_0x2eccd1(552)](_0x2eccd1(504))[_0x2eccd1(502)](renderer[_0x2eccd1(332)]);const controls=new OrbitControls(camera,renderer.domElement);function createGlowMaterial(e,t=128,n=.55){const a=_0x2eccd1,o=document.createElement(a(572));o.width=o.height=t;const r=o.getContext("2d"),c=r[a(335)](t/2,t/2,0,t/2,t/2,t/2);c[a(302)](0,e),c[a(302)](1,a(454)),r[a(473)]=c,r.fillRect(0,0,t,t);const i=new(_0x38f9d0[a(462)])(o),s=new(_0x38f9d0[a(341)])({map:i,transparent:!0,opacity:n,depthWrite:!1,blending:_0x38f9d0[a(487)]});return new(_0x38f9d0[a(309)])(s)}controls[_0x2eccd1(314)]=!0,controls[_0x2eccd1(404)]=!0,controls.autoRotateSpeed=.1,controls[_0x2eccd1(417)]=!1,controls[_0x2eccd1(395)][_0x2eccd1(425)](0,0,0),controls.enablePan=!1,controls[_0x2eccd1(459)]=15,controls[_0x2eccd1(517)]=300,controls[_0x2eccd1(355)]=.3,controls.rotateSpeed=.3,controls[_0x2eccd1(479)]();const centralGlow=createGlowMaterial(_0x2eccd1(389),156,.25);centralGlow[_0x2eccd1(304)][_0x2eccd1(425)](8,8,1),scene[_0x2eccd1(467)](centralGlow);for(let e=0;e<15;e++){const e=createGlowMaterial(_0x2eccd1(366)+360*Math[_0x2eccd1(556)]()+_0x2eccd1(406),256);e.scale[_0x2eccd1(425)](100,100,1),e[_0x2eccd1(372)][_0x2eccd1(425)](175*(Math[_0x2eccd1(556)]()-.5),175*(Math[_0x2eccd1(556)]()-.5),175*(Math[_0x2eccd1(556)]()-.5)),scene[_0x2eccd1(467)](e)}const galaxyParameters={count:1e5,arms:6,radius:100,spin:.5,randomness:.2,randomnessPower:20,insideColor:new(_0x38f9d0[_0x2eccd1(542)])(14040790),outsideColor:new(_0x38f9d0[_0x2eccd1(542)])(4765880)},heartImages=[...window[_0x2eccd1(525)]&&window.dataLove.data[_0x2eccd1(398)]?window.dataLove[_0x2eccd1(500)][_0x2eccd1(398)]:[],_0x2eccd1(503),_0x2eccd1(569),_0x2eccd1(464),_0x2eccd1(508),_0x2eccd1(327)],textureLoader=new(_0x38f9d0[_0x2eccd1(544)]),numGroups=heartImages.length,maxDensity=15e3,minDensity=4e3,maxGroupsForScale=6;let pointsPerGroup;if(numGroups<=1)pointsPerGroup=15e3;else if(numGroups>=6)pointsPerGroup=4e3;else{const e=(numGroups-1)/5;pointsPerGroup=Math.floor(15e3*(1-e)+4e3*e)}pointsPerGroup*numGroups>galaxyParameters.count&&(pointsPerGroup=Math.floor(galaxyParameters.count/numGroups)),console[_0x2eccd1(548)]("Số lượng ảnh: "+numGroups+_0x2eccd1(414)+pointsPerGroup);const positions=new Float32Array(3*galaxyParameters[_0x2eccd1(447)]),colors=new Float32Array(3*galaxyParameters[_0x2eccd1(447)]);function _0x36e7(e,t){const n=_0x1ae4();return(_0x36e7=function(e,t){return n[e-=302]})(e,t)}let pointIdx=0;for(let e=0;e<galaxyParameters[_0x2eccd1(447)];e++){const t=Math[_0x2eccd1(356)](Math.random(),galaxyParameters.randomnessPower)*galaxyParameters[_0x2eccd1(534)],n=e%galaxyParameters[_0x2eccd1(536)]/galaxyParameters.arms*Math.PI*2,a=t*galaxyParameters[_0x2eccd1(475)],o=(Math[_0x2eccd1(556)]()-.5)*galaxyParameters[_0x2eccd1(551)]*t,r=(Math[_0x2eccd1(556)]()-.5)*galaxyParameters[_0x2eccd1(551)]*t*.5,c=(Math[_0x2eccd1(556)]()-.5)*galaxyParameters[_0x2eccd1(551)]*t,i=n+a;if(t<30&&Math[_0x2eccd1(556)]()<.7)continue;const s=3*pointIdx;positions[s]=Math[_0x2eccd1(515)](i)*t+o,positions[s+1]=r,positions[s+2]=Math[_0x2eccd1(486)](i)*t+c;const d=new(_0x38f9d0[_0x2eccd1(542)])(16738047);d.lerp(new _0x38f9d0.Color(6750207),t/galaxyParameters[_0x2eccd1(534)]),d[_0x2eccd1(575)](.7+.3*Math[_0x2eccd1(556)]()),colors[s]=d.r,colors[s+1]=d.g,colors[s+2]=d.b,pointIdx++}const galaxyGeometry=new _0x38f9d0.BufferGeometry;galaxyGeometry.setAttribute(_0x2eccd1(372),new(_0x38f9d0[_0x2eccd1(521)])(positions[_0x2eccd1(519)](0,3*pointIdx),3)),galaxyGeometry[_0x2eccd1(353)](_0x2eccd1(520),new(_0x38f9d0[_0x2eccd1(521)])(colors[_0x2eccd1(519)](0,3*pointIdx),3));const galaxyMaterial=new(_0x38f9d0[_0x2eccd1(413)])({uniforms:{uTime:{value:0},uSize:{value:50*renderer[_0x2eccd1(354)]()},uRippleTime:{value:-1},uRippleSpeed:{value:40},uRippleWidth:{value:20}},vertexShader:_0x2eccd1(390),fragmentShader:_0x2eccd1(510),blending:_0x38f9d0.AdditiveBlending,depthWrite:!1,transparent:!0,vertexColors:!0}),galaxy=new(_0x38f9d0[_0x2eccd1(558)])(galaxyGeometry,galaxyMaterial);function createNeonTexture(e,t){const n=_0x2eccd1,a=window[n(433)]||1,o=document[n(488)](n(572));o[n(505)]=o[n(328)]=t*a,o[n(371)][n(505)]=o[n(371)][n(328)]=t+"px";const r=o[n(409)]("2d");r.scale(a,a);const c=e[n(505)]/e.height;let i,s,d,l;c>1?(i=t,s=t/c,d=0,l=(t-s)/2):(s=t,i=t*c,d=(t-i)/2,l=0),r[n(531)](0,0,t,t);const x=.1*t;r[n(312)](),r[n(308)](),r[n(446)](d+x,l),r.lineTo(d+i-x,l),r[n(507)](d+i,l,d+i,l+x,x),r.lineTo(d+i,l+s-x),r[n(507)](d+i,l+s,d+i-x,l+s,x),r[n(379)](d+x,l+s),r[n(507)](d,l+s,d,l+s-x,x),r[n(379)](d,l+x),r[n(507)](d,l,d+x,l,x),r.closePath(),r.clip(),r[n(571)](e,d,l,i,s),r[n(539)]();const m=new(_0x38f9d0[n(462)])(o);return m[n(570)]=_0x38f9d0.LinearFilter,m[n(408)]=_0x38f9d0[n(524)],m[n(388)]=renderer[n(431)].getMaxAnisotropy(),m.colorSpace=_0x38f9d0[n(528)],m}scene.add(galaxy);for(let e=0;e<numGroups;e++){const t=new Float32Array(3*pointsPerGroup),n=new Float32Array(3*pointsPerGroup),a=new Float32Array(3*pointsPerGroup);let o=0;for(let r=0;r<pointsPerGroup;r++){const c=3*o,i=e*pointsPerGroup+r,s=Math.pow(Math[_0x2eccd1(556)](),galaxyParameters[_0x2eccd1(340)])*galaxyParameters[_0x2eccd1(534)];if(s<30)continue;const d=i%galaxyParameters[_0x2eccd1(536)]/galaxyParameters[_0x2eccd1(536)]*Math.PI*2,l=s*galaxyParameters.spin,x=(Math[_0x2eccd1(556)]()-.5)*galaxyParameters[_0x2eccd1(551)]*s,m=(Math[_0x2eccd1(556)]()-.5)*galaxyParameters[_0x2eccd1(551)]*s*.5,_=(Math[_0x2eccd1(556)]()-.5)*galaxyParameters[_0x2eccd1(551)]*s,f=d+l;t[c]=Math[_0x2eccd1(515)](f)*s+x,t[c+1]=m,t[c+2]=Math[_0x2eccd1(486)](f)*s+_;const p=new(_0x38f9d0[_0x2eccd1(542)])(16777215);n[c]=p.r,n[c+1]=p.g,n[c+2]=p.b;const u=galaxyParameters[_0x2eccd1(435)][_0x2eccd1(543)]();u[_0x2eccd1(535)](galaxyParameters[_0x2eccd1(444)],s/galaxyParameters[_0x2eccd1(534)]),u[_0x2eccd1(575)](.7+.3*Math[_0x2eccd1(556)]()),a[c]=u.r,a[c+1]=u.g,a[c+2]=u.b,o++}if(0===o)continue;const r=new _0x38f9d0.BufferGeometry;r.setAttribute("position",new _0x38f9d0.BufferAttribute(t.slice(0,3*o),3)),r[_0x2eccd1(353)](_0x2eccd1(520),new(_0x38f9d0[_0x2eccd1(521)])(n.slice(0,3*o),3));const c=new _0x38f9d0.BufferGeometry;c.setAttribute("position",new(_0x38f9d0[_0x2eccd1(521)])(t[_0x2eccd1(519)](0,3*o),3)),c.setAttribute("color",new _0x38f9d0.BufferAttribute(a[_0x2eccd1(519)](0,3*o),3));const i=c.getAttribute("position");let s=0,d=0,l=0;for(let e=0;e<i[_0x2eccd1(447)];e++)s+=i[_0x2eccd1(419)](e),d+=i[_0x2eccd1(471)](e),l+=i[_0x2eccd1(457)](e);s/=i[_0x2eccd1(447)],d/=i.count,l/=i[_0x2eccd1(447)],r.translate(-s,-d,-l),c.translate(-s,-d,-l);const x=new(window[_0x2eccd1(415)]);x[_0x2eccd1(490)]=_0x2eccd1(546),x[_0x2eccd1(474)]=heartImages[e],x[_0x2eccd1(361)]=()=>{const e=_0x2eccd1,t=createNeonTexture(x,256),n=new(_0x38f9d0[e(537)])({size:1.8,map:t,transparent:!1,alphaTest:.2,depthWrite:!0,depthTest:!0,blending:_0x38f9d0[e(492)],vertexColors:!0}),a=new _0x38f9d0.PointsMaterial({size:1.8,map:t,transparent:!0,alphaTest:.2,depthWrite:!1,blending:_0x38f9d0[e(487)],vertexColors:!0}),o=new _0x38f9d0.Points(c,a);o[e(372)][e(425)](s,d,l),o[e(367)][e(357)]=n,o[e(367)][e(382)]=r,o[e(367)].materialFar=a,o[e(367)][e(383)]=c,scene[e(467)](o)}}const ambientLight=new(_0x38f9d0[_0x2eccd1(580)])(16777215,.2);scene[_0x2eccd1(467)](ambientLight);const starCount=2e4,starGeometry=new _0x38f9d0.BufferGeometry,starPositions=new Float32Array(6e4);for(let e=0;e<2e4;e++)starPositions[3*e]=900*(Math[_0x2eccd1(556)]()-.5),starPositions[3*e+1]=900*(Math.random()-.5),starPositions[3*e+2]=900*(Math.random()-.5);starGeometry[_0x2eccd1(353)](_0x2eccd1(372),new(_0x38f9d0[_0x2eccd1(521)])(starPositions,3));const starMaterial=new _0x38f9d0.PointsMaterial({color:16777215,size:.7,transparent:!0,opacity:.7,depthWrite:!1}),starField=new(_0x38f9d0[_0x2eccd1(558)])(starGeometry,starMaterial);starField[_0x2eccd1(365)]=_0x2eccd1(368),starField[_0x2eccd1(380)]=999,scene[_0x2eccd1(467)](starField);let shootingStars=[];function createShootingStar(){const e=_0x2eccd1,t=new _0x38f9d0.SphereGeometry(2,32,32),n=new(_0x38f9d0[e(319)])({color:16777215,transparent:!0,opacity:0,blending:_0x38f9d0.AdditiveBlending}),a=new(_0x38f9d0[e(565)])(t,n),o=new(_0x38f9d0[e(360)])(3,32,32),r=new _0x38f9d0.ShaderMaterial({uniforms:{time:{value:0}},vertexShader:e(373),fragmentShader:e(511),transparent:!0,blending:_0x38f9d0[e(487)],side:_0x38f9d0[e(374)]}),c=new(_0x38f9d0[e(565)])(o,r);a[e(467)](c);const i=new(_0x38f9d0[e(360)])(1.05*planetRadius,48,48),s=new _0x38f9d0.ShaderMaterial({uniforms:{glowColor:{value:new(_0x38f9d0[e(542)])(14726143)}},vertexShader:e(439),fragmentShader:e(330),side:_0x38f9d0[e(374)],blending:_0x38f9d0[e(487)],transparent:!0}),d=new(_0x38f9d0[e(565)])(i,s);planet[e(467)](d);const l=createRandomCurve(),x=[];for(let t=0;t<100;t++){const n=t/99;x[e(352)](l[e(306)](n))}const m=(new _0x38f9d0.BufferGeometry)[e(385)](x),_=new(_0x38f9d0[e(449)])({color:10087167,transparent:!0,opacity:.7,linewidth:2}),f=new(_0x38f9d0[e(321)])(m,_),p=new(_0x38f9d0[e(460)]);p[e(467)](a),p[e(467)](f),p[e(367)]={curve:l,progress:0,speed:.001+.001*Math[e(556)](),life:0,maxLife:300,head:a,trail:f,trailLength:100,trailPoints:x},scene[e(467)](p),shootingStars.push(p)}function createRandomCurve(){const e=_0x2eccd1,t=new(_0x38f9d0[e(576)])(100*Math[e(556)]()-200,200*Math[e(556)]()-100,200*Math[e(556)]()-100),n=new(_0x38f9d0[e(576)])(600+200*Math.random(),t.y+(200*Math[e(556)]()-100),t.z+(200*Math.random()-100)),a=new(_0x38f9d0[e(576)])(t.x+200+100*Math[e(556)](),t.y+(100*Math[e(556)]()-50),t.z+(100*Math[e(556)]()-50)),o=new(_0x38f9d0[e(576)])(n.x-200+100*Math[e(556)](),n.y+(100*Math[e(556)]()-50),n.z+(100*Math[e(556)]()-50));return[].push(t,a,o,n),new _0x38f9d0.CubicBezierCurve3(t,a,o,n)}function createPlanetTexture(e=512){const t=_0x2eccd1,n=document[t(488)](t(572));n[t(505)]=n[t(328)]=e;const a=n[t(409)]("2d"),o=a[t(335)](e/2,e/2,e/8,e/2,e/2,e/2);o[t(302)](0,"#f8bbd0"),o[t(302)](.12,t(343)),o.addColorStop(.22,t(303)),o[t(302)](.35,"#ffffff"),o[t(302)](.5,t(320)),o[t(302)](.62,"#a259f7"),o.addColorStop(.75,t(550)),o[t(302)](1,t(577)),a[t(473)]=o,a[t(351)](0,0,e,e);const r=["#f8bbd0",t(378),t(343),t(343),t(303),t(303),t(506),t(320),t(441),t(550)];for(let n=0;n<40;n++){const n=Math.random()*e,o=Math[t(556)]()*e,c=30+120*Math[t(556)](),i=r[Math[t(396)](Math.random()*r[t(428)])],s=a[t(335)](n,o,0,n,o,c);s[t(302)](0,i+"cc"),s[t(302)](1,i+"00"),a.fillStyle=s,a[t(351)](0,0,e,e)}for(let n=0;n<8;n++)a[t(308)](),a[t(446)](Math[t(556)]()*e,Math.random()*e),a[t(421)](Math[t(556)]()*e,Math.random()*e,Math[t(556)]()*e,Math[t(556)]()*e,Math.random()*e,Math[t(556)]()*e),a[t(518)]=t(538)+(.12+.18*Math[t(556)]())+")",a[t(466)]=8+18*Math[t(556)](),a[t(438)]();return void 0!==a[t(362)]&&(a[t(362)]=t(497),a[t(571)](n,0,0),a.filter=t(478)),new _0x38f9d0.CanvasTexture(n)}const stormShader={uniforms:{time:{value:0},baseTexture:{value:null}},vertexShader:"\n        varying vec2 vUv;\n        void main() {\n            vUv = uv;\n            gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n        }\n    ",fragmentShader:_0x2eccd1(403)},planetRadius=10,planetGeometry=new _0x38f9d0.SphereGeometry(planetRadius,48,48),planetTexture=createPlanetTexture(),planetMaterial=new _0x38f9d0.ShaderMaterial({uniforms:{time:{value:0},baseTexture:{value:planetTexture}},vertexShader:stormShader.vertexShader,fragmentShader:stormShader[_0x2eccd1(336)]}),planet=new(_0x38f9d0[_0x2eccd1(565)])(planetGeometry,planetMaterial);planet.position.set(0,0,0),scene[_0x2eccd1(467)](planet);const ringTexts=[_0x2eccd1(482),"NGUYỄN HUYỀN BẢO YẾN",...window[_0x2eccd1(525)]&&window.dataLove[_0x2eccd1(500)].ringTexts?window[_0x2eccd1(525)][_0x2eccd1(500)][_0x2eccd1(424)]:[]];function createTextRings(){const e=_0x2eccd1,t=ringTexts[e(428)],n=1.1*planetRadius;window[e(325)]=[];for(let o=0;o<t;o++){const r=ringTexts[o%ringTexts[e(428)]]+e(342),c=n+5*o;function a(t){const n=e,a=t.charCodeAt(0);return n(a>=19968&&a<=40959||a>=12352&&a<=12447||a>=12448&&a<=12543||a>=44032&&a<=55215?426:a>=0&&a<=127?549:349)}let i={cjk:0,latin:0,other:0};for(let C of r)i[a(C)]++;const s=r.length,d=i[e(426)]/s;let l={fontScale:.75,spacingScale:1.1};0===o?(l[e(369)]=.55,l[e(533)]=.9):1===o&&(l[e(369)]=.65,l[e(533)]=1),d>0&&(l[e(369)]*=.9,l[e(533)]*=1.1);const x=200,m=Math.max(120,.9*x),_=document[e(488)](e(572))[e(409)]("2d");_[e(407)]=e(499)+m+e(501);let f=ringTexts[o%ringTexts[e(428)]]+e(342),p=_[e(461)](f)[e(505)],u=2*Math.PI*c*180,h=Math[e(465)](u/p),g="";for(let G=0;G<h;G++)g+=f;let w=p*h;(w<1||!g)&&(g=f,w=p);const y=document.createElement(e(572));y[e(505)]=Math[e(465)](Math[e(399)](1,w)),y.height=x;const v=y[e(409)]("2d");v[e(531)](0,0,y[e(505)],x),v[e(407)]=e(499)+m+e(501),v[e(473)]=e(429),v[e(526)]="left",v[e(545)]=e(384),v[e(472)]="#ff5858ff",v[e(401)]=24,v.lineWidth=6,v.strokeStyle=e(405),v[e(345)](g,0,.8*x),v[e(472)]="#ff135aff",v[e(401)]=16,v.fillText(g,0,.8*x);const M=new _0x38f9d0.CanvasTexture(y);M[e(514)]=_0x38f9d0.RepeatWrapping,M[e(553)].x=w/u,M[e(410)]=!0;const P=new _0x38f9d0.CylinderGeometry(c,c,1,128,1,!0),S=new _0x38f9d0.MeshBasicMaterial({map:M,transparent:!0,side:_0x38f9d0.DoubleSide,alphaTest:.01}),b=new(_0x38f9d0[e(565)])(P,S);b[e(372)].set(0,0,0),b[e(420)].y=Math.PI/2;const T=new(_0x38f9d0[e(460)]);T.add(b),T[e(367)]={ringRadius:c,angleOffset:.15*Math.PI*.5,speed:.008,tiltSpeed:0,rollSpeed:0,pitchSpeed:0,tiltAmplitude:Math.PI/3,rollAmplitude:Math.PI/6,pitchAmplitude:Math.PI/8,tiltPhase:2*Math.PI,rollPhase:2*Math.PI,pitchPhase:2*Math.PI,isTextRing:!0};const I=o/t*(Math.PI/1);T[e(420)].x=I,scene[e(467)](T),window.textRings[e(352)](T)}}function updateTextRingsRotation(){const e=_0x2eccd1;window[e(325)]&&camera&&window[e(325)][e(480)](((t,n)=>{const a=e;t[a(532)][a(480)]((e=>{const n=a;if(void 0!==e[n(367)][n(560)]){const a=e[n(367)][n(560)]+t[n(367)][n(516)],o=Math[n(515)](a)*e[n(367)][n(416)],r=Math.sin(a)*e[n(367)][n(416)];e[n(372)][n(425)](o,0,r);const c=new _0x38f9d0.Vector3;e[n(422)](c);const i=(new(_0x38f9d0[n(576)]))[n(456)](camera.position,c)[n(527)](),s=Math.atan2(i.x,i.z);e[n(420)].y=s}}))}))}function animatePlanetSystem(){const e=_0x2eccd1;if(window.textRings){const t=.001*Date[e(445)]();window[e(325)].forEach(((n,a)=>{const o=e,r=n[o(367)];r[o(516)]+=r[o(566)];const c=Math[o(486)](t*r[o(469)]+r[o(554)])*r.tiltAmplitude,i=Math[o(515)](t*r[o(493)]+r[o(323)])*r[o(377)],s=Math[o(486)](t*r[o(313)]+r[o(339)])*r.pitchAmplitude;n[o(420)].x=a/window[o(325)][o(428)]*(Math.PI/1)+c,n[o(420)].z=i,n[o(420)].y=r[o(516)]+s;const d=.3*Math[o(486)](t*(.7*r[o(469)])+r.tiltPhase);n[o(372)].y=d;const l=(Math.sin(1.5*t+a)+1)/2,x=n[o(532)][0];x&&x[o(453)]&&(x[o(453)][o(559)]=.7+.3*l)})),updateTextRingsRotation()}}createTextRings();let hintIcon,hintText,fadeOpacity=.1,fadeInProgress=!1;function createHintIcon(){const e=_0x2eccd1;hintIcon=new(_0x38f9d0[e(460)]),hintIcon[e(365)]=e(468),scene[e(467)](hintIcon);const t=new(_0x38f9d0[e(460)]),n=new(_0x38f9d0[e(350)]);n[e(446)](0,0),n[e(379)](.4*-.75,.7*-1.5),n[e(379)](-.1875,.7*-1.5),n[e(379)](-.375,-1.5),n[e(379)](.375,-1.5),n.lineTo(.1875,.7*-1.5),n[e(379)](.4*.75,.7*-1.5),n.closePath();const a=new _0x38f9d0.ShapeGeometry(n),o=new _0x38f9d0.MeshBasicMaterial({color:16777215,side:_0x38f9d0.DoubleSide}),r=new(_0x38f9d0[e(565)])(a,o),c=new(_0x38f9d0[e(402)])(n),i=new(_0x38f9d0[e(319)])({color:16777215,side:_0x38f9d0[e(495)]}),s=new _0x38f9d0.Mesh(c,i);s.scale[e(425)](.8,.8,1),s.position.z=.01,t[e(467)](r,s),t.position.y=.75,t[e(420)].x=Math.PI/2;const d=new(_0x38f9d0[e(391)])(1.8,2,32),l=new _0x38f9d0.MeshBasicMaterial({color:16777215,side:_0x38f9d0.DoubleSide,transparent:!0,opacity:.6}),x=new(_0x38f9d0[e(565)])(d,l);x[e(420)].x=Math.PI/2,hintIcon[e(367)].ringMesh=x,hintIcon[e(467)](t),hintIcon[e(467)](x),hintIcon[e(372)][e(425)](1.5,1.5,15),hintIcon[e(304)].set(.8,.8,.8),hintIcon.lookAt(planet.position),hintIcon[e(367)][e(567)]=hintIcon[e(372)][e(543)]()}function animateHintIcon(e){const t=_0x2eccd1;if(hintIcon)if(introStarted)hintIcon&&(hintIcon[t(579)]=!1),hintText&&(hintText[t(579)]=!1);else{hintIcon[t(579)]=!0;const n=2.5,a=1.5,o=Math[t(486)](e*n)*a,r=new(_0x38f9d0[t(576)]);hintIcon.getWorldDirection(r),hintIcon[t(372)].copy(hintIcon[t(367)][t(567)])[t(317)](r,-o);const c=hintIcon.userData.ringMesh,i=1+.1*Math[t(486)](e*n);c[t(304)].set(i,i,1),c.material[t(559)]=.5+.2*Math[t(486)](e*n),hintText&&(hintText[t(579)]=!0,hintText[t(453)][t(559)]=.7+.3*Math[t(486)](3*e),hintText[t(372)].y=15+.5*Math.sin(2*e),hintText[t(540)](camera[t(372)]))}}function animate(){const e=_0x2eccd1;requestAnimationFrame(animate);const t=.001*performance[e(445)]();animateHintIcon(t),controls[e(479)](),planet[e(453)][e(440)].time[e(496)]=.5*t,fadeInProgress&&fadeOpacity<1&&(fadeOpacity+=.025,fadeOpacity>1&&(fadeOpacity=1)),introStarted?scene.traverse((t=>{const n=e;t[n(367)].isTextRing||t[n(477)]&&t[n(477)][n(367)]&&t.parent.userData.isTextRing||t===planet||t===centralGlow||n(334)===t[n(452)]?t.material&&void 0!==t[n(453)].opacity&&(t.material[n(559)]=1,t[n(453)][n(375)]=!1):t[n(453)]&&void 0!==t[n(453)][n(559)]&&(t[n(453)].transparent=!0,t.material[n(559)]=fadeOpacity),t.material&&t.material.color&&t[n(453)][n(520)].set(16777215)})):(fadeOpacity=.1,scene[e(564)]((t=>{const n=e;n(368)!==t[n(365)]?t[n(367)][n(344)]||t[n(477)]&&t.parent[n(367)]&&t.parent.userData[n(344)]?(t.material&&void 0!==t[n(453)][n(559)]&&(t[n(453)][n(375)]=!1,t[n(453)][n(559)]=1),t[n(453)]&&t.material[n(520)]&&t[n(453)][n(520)].set(16777215)):t===planet||t===centralGlow||t===hintIcon||n(334)===t[n(452)]||t[n(477)][n(476)]||t[n(453)]&&void 0!==t[n(453)][n(559)]&&(t[n(453)][n(375)]=!0,t[n(453)][n(559)]=.1):t[n(348)]&&void 0!==t.material.opacity&&(t[n(453)][n(375)]=!1,t[n(453)][n(559)]=1)})),planet[e(579)]=!0,centralGlow.visible=!0);for(let n=shootingStars[e(428)]-1;n>=0;n--){const a=shootingStars[n];a[e(367)][e(338)]++;let o=1;if(a[e(367)][e(338)]<30?o=a[e(367)][e(338)]/30:a[e(367)][e(338)]>a[e(367)][e(530)]-30&&(o=(a[e(367)][e(530)]-a[e(367)].life)/30),a[e(367)].progress+=a[e(367)][e(566)],a.userData[e(448)]>1){scene[e(573)](a),shootingStars.splice(n,1);continue}const r=a[e(367)][e(347)].getPoint(a.userData.progress);a[e(372)][e(318)](r),a[e(367)][e(568)][e(453)][e(559)]=o,a[e(367)][e(568)].children[0][e(453)][e(440)][e(455)][e(496)]=t;const c=a.userData[e(561)],i=a[e(367)][e(386)];i[0][e(318)](r);for(let t=1;t<a[e(367)][e(522)];t++){const n=Math[e(399)](0,a[e(367)][e(448)]-.01*t);i[t][e(318)](a[e(367)][e(347)].getPoint(n))}c.geometry[e(385)](i),c[e(453)].opacity=.7*o}shootingStars[e(428)]<3&&Math.random()<.02&&createShootingStar(),scene[e(564)]((t=>{const n=e;if(t[n(337)]&&t[n(367)].materialNear&&t[n(367)][n(397)]){const e=t[n(555)].getAttribute(n(372));let a=!1;for(let o=0;o<e[n(447)];o++){const r=e[n(419)](o)+t.position.x,c=e[n(471)](o)+t[n(372)].y,i=e.getZ(o)+t[n(372)].z;if(camera[n(372)][n(563)](new(_0x38f9d0[n(576)])(r,c,i))<10){a=!0;break}}a?t[n(453)]!==t[n(367)][n(357)]&&(t[n(453)]=t.userData[n(357)],t[n(555)]=t[n(367)][n(382)]):t[n(453)]!==t[n(367)][n(397)]&&(t.material=t[n(367)][n(397)],t[n(555)]=t[n(367)].geometryFar)}})),planet[e(540)](camera.position),animatePlanetSystem(),starField&&starField[e(453)]&&void 0!==starField[e(453)].opacity&&(starField[e(453)].opacity=1,starField[e(453)].transparent=!1),renderer[e(450)](scene,camera)}function createHintText(){const e=_0x2eccd1,t=document[e(488)](e(572));t[e(505)]=t[e(328)]=512;const n=t[e(409)]("2d"),a="Chạm Vào Tinh Cầu";n.font=e(363),n[e(526)]=e(310),n[e(545)]=e(529),n[e(472)]="#ffb3de",n[e(401)]=5,n[e(466)]=2,n.strokeStyle=e(541),n[e(345)](a,256,256),n[e(472)]="#e0b3ff",n[e(401)]=5,n[e(466)]=2,n.strokeStyle="rgba(220, 180, 255, 0.5)",n[e(345)](a,256,256),n[e(472)]="transparent",n[e(401)]=0,n.fillStyle=e(429),n[e(481)](a,256,256);const o=new(_0x38f9d0[e(462)])(t);o.needsUpdate=!0;const r=new(_0x38f9d0[e(319)])({map:o,transparent:!0,side:_0x38f9d0.DoubleSide}),c=new(_0x38f9d0[e(358)])(16,8);hintText=new(_0x38f9d0[e(565)])(c,r),hintText[e(372)][e(425)](0,15,0),scene.add(hintText)}function startCameraAnimation(){const e=_0x2eccd1,t={x:camera[e(372)].x,y:camera[e(372)].y,z:camera[e(372)].z},n=t.x,a=t.z,o=t.x,r=.2;let c=0;controls[e(417)]=!1,function i(){const s=e;let d;if(c+=.00101,c<r){let e=c/r;d={x:t.x+(n-t.x)*e,y:t.y+(0-t.y)*e,z:t.z+(a-t.z)*e}}else if(c<.75){let e=(c-r)/.55;d={x:n+(o-n)*e,y:0+0*e,z:a+(160-a)*e}}else{if(!(c<1.15))return camera[s(372)][s(425)](-40,100,100),camera[s(540)](0,0,0),controls[s(395)][s(425)](0,0,0),controls[s(479)](),void(controls.enabled=!0);{let e=(c-r-.55)/.4,t=.5-.5*Math[s(515)](Math.PI*e);d={x:o+(-40-o)*t,y:0+100*t,z:160+-60*t}}}camera[s(372)][s(425)](d.x,d.y,d.z),camera[s(540)](0,0,0),requestAnimationFrame(i)}()}createShootingStar(),createHintIcon(),createHintText(),window[_0x2eccd1(370)](_0x2eccd1(359),(()=>{const e=_0x2eccd1;camera[e(430)]=window.innerWidth/window[e(412)],camera[e(376)](),renderer[e(400)](window[e(324)],window[e(412)]),controls.target.set(0,0,0),controls[e(479)]()}));const raycaster=new _0x38f9d0.Raycaster,mouse=new(_0x38f9d0[_0x2eccd1(423)]);let introStarted=!1;const originalStarCount=starGeometry.getAttribute(_0x2eccd1(372))[_0x2eccd1(447)];function requestFullScreen(){const e=_0x2eccd1,t=document.documentElement;t.requestFullscreen?t[e(489)]():t[e(329)]?t.mozRequestFullScreen():t[e(498)]?t.webkitRequestFullscreen():t[e(322)]&&t.msRequestFullscreen()}function onCanvasClick(e){const t=_0x2eccd1;if(introStarted)return;const n=renderer[t(332)][t(346)]();if(mouse.x=(e.clientX-n[t(394)])/n.width*2-1,mouse.y=-(e[t(513)]-n[t(387)])/n[t(328)]*2+1,raycaster[t(411)](mouse,camera),raycaster[t(333)](planet).length>0)requestFullScreen(),introStarted=!0,fadeInProgress=!0,document[t(470)][t(316)][t(467)](t(484)),startCameraAnimation(),starField&&starField.geometry&&starField[t(555)].setDrawRange(0,originalStarCount);else if(introStarted){const e=raycaster[t(562)](heartPointClouds);if(e[t(428)]>0){const n=e[0][t(547)];controls[t(395)][t(318)](n[t(372)])}}}function setFullScreen(){const e=_0x2eccd1,t=.01*window[e(412)];document[e(491)][e(371)].setProperty(e(381),t+"px");const n=document[e(552)](e(504));n&&(n[e(371)][e(328)]=window.innerHeight+"px")}starField&&starField[_0x2eccd1(555)]&&starField[_0x2eccd1(555)].setDrawRange(0,Math[_0x2eccd1(396)](.1*originalStarCount)),renderer[_0x2eccd1(332)].addEventListener(_0x2eccd1(463),onCanvasClick),animate(),planet[_0x2eccd1(365)]=_0x2eccd1(311),centralGlow[_0x2eccd1(365)]=_0x2eccd1(523),window[_0x2eccd1(370)](_0x2eccd1(359),setFullScreen),window.addEventListener(_0x2eccd1(442),(()=>{setTimeout(setFullScreen,300)})),setFullScreen();const preventDefault=e=>e[_0x2eccd1(315)]();document[_0x2eccd1(370)](_0x2eccd1(307),preventDefault,{passive:!1}),document[_0x2eccd1(370)]("gesturestart",preventDefault,{passive:!1});const container=document[_0x2eccd1(552)](_0x2eccd1(504));function checkOrientation(){const e=_0x2eccd1;window[e(412)]>window[e(324)]&&e(331)in window?document[e(470)].classList[e(467)](e(451)):document.body[e(316)].remove(e(451))}container&&container.addEventListener(_0x2eccd1(307),preventDefault,{passive:!1});const offi=_0x2eccd1(509),current=window[_0x2eccd1(418)][_0x2eccd1(437)];current!==offi&&(document[_0x2eccd1(470)].innerHTML="",warningText[_0x2eccd1(512)]=" ",warningDiv[_0x2eccd1(502)](warningText),document.body[_0x2eccd1(502)](warningDiv)),window[_0x2eccd1(370)](_0x2eccd1(443),checkOrientation),window[_0x2eccd1(370)](_0x2eccd1(359),checkOrientation),window.addEventListener("orientationchange",(()=>{setTimeout(checkOrientation,200)}));
